# agents/{{agent_name}}.na
# Generated by aether init — rename and adapt to your domain.
#
# Dana agents expose plain functions. Use reason() to delegate
# language-model reasoning; the runtime handles prompt construction,
# model selection, and retries.


def run_{{agent_name}}(input: str) -> dict:
    """Entry point for the {{agent_name}} agent.

    Args:
        input: Raw input to analyse (text, ticker, URL, …).

    Returns:
        A dict with at minimum a "result" key.
    """
    # Step 1 — gather context
    context = reason(
        "Summarise the key facts relevant to: " + input,
        context={"raw_input": input},
    )

    # Step 2 — reason over context
    analysis = reason(
        "Provide a concise, actionable analysis.",
        context=context,
    )

    # Step 3 — produce a structured result
    verdict = reason(
        "Return a one-word verdict: POSITIVE, NEGATIVE, or NEUTRAL.",
        context=analysis,
    )

    return {
        "input": input,
        "context": context,
        "analysis": analysis,
        "verdict": verdict,
    }
